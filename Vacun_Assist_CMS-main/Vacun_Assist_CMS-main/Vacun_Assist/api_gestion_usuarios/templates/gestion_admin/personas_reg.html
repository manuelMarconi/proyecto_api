{% extends "gestion_usuarios/base.html" %}

{% block content %}
<!DOCTYPE html>
<html>
  
<head>
    <script src=
"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js">
    </script>
  
    <style>
        table {
            font-family: arial, sans-serif;
            border-collapse: collapse;
            width: 100%;
        }
          
        td,
        th {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }
          
        h1 {
            color: black;
        }
    </style>
</head>
  
<body>
    <span style="float: left; border: solid 10px hsl(133, 100%, 76%); margin-left: 210px;text-align: left">
    <center>
        {% if personas %}
            <h1>Informe de personas registradas</h1>
            <b>Buscar por cualquier columna: 
                <input id="gfg" type="text" placeholder="Buscar">
            </b>
            <br>
            <br>
            <table>
                <tr>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th>DNI</th>
                    <th>Vacunatorio</th>
                    <th>Fecha de nacimiento</th>
                    <th>Fecha de registro</th>
                </tr>
                <tbody id="personas">
                    {% for per in personas %}
                        <tr>
                            <td>{{per.nombre}}</td>
                            <td>{{per.apellido}}</td>
                            <td>{{per.dni}}</td>
                            <td>{{per.direccion}}</td>
                            <td>{{per.fecha_nacimiento}}</td>
                            <td>{{per.fecha_registro}}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
  
            <script>
                $(document).ready(function() {
                    $("#gfg").on("keyup", function() {
                        var value = $(this).val().toLowerCase();
                        $("#personas tr").filter(function() {
                            $(this).toggle($(this).text()
                            .toLowerCase().indexOf(value) > -1)
                        });
                    });
                });
            </script>
        {% else %}
        <span style="float: left; border: solid 10px hsl(133, 100%, 76%); margin-left: 500px;text-align: left">
    
            No hay personas registradas

        </span>
        {% endif %}
    </center>

        <p style="text-align:center">       
           <a href="{% url 'info_personas' %}">
                Volver al menu anterior
            </a>
        </p> 

      <p style="text-align:center">       
           <a href="{% url 'inicio_admin' %}">
               Volver a inicio
            </a>
        </p> 
    </span>


  
</body>
  
</html>

{% endblock %}